# key-value storage API

Key-Value Storage API — это простой HTTP-сервис для хранения пар ключ-значение, где каждому ключу можно задать время истечения (TTL). По истечении срока действия ключ удаляется из хранилища автоматически. Истекший ключ может хранится <= 1 минуты с момента его истечения, так как система очистки убирает истекшие ключи раз в минуту.

## Установка

Используйте встроенный клиент, который запускается как и сервер - из cmd. Всю необходимую информацию для тестирования сервер выводит с помощью логгера.

## API Методы

### 1. Добавление ключа

**Описание**: Метод добавляет новую пару ключ-значение в хранилище. Ключ будет существовать до истечения срока TTL. При попытке добавить уже существующий действующий ключ возвращает StatusBadRequest.

- **URL**: `POST /items`
- **Тело запроса**:

  ```json
  {
    "key": "ключ",
    "value": "значение",
    "ttl": "время в формате 10s, 2m, 1h"
  }
  ```

- **Пример запроса**:

  ```bash
  curl -X POST http://localhost:8080/items \
  -H "Content-Type: application/json" \
  -d '{"key":"example","value":"some_value","ttl":"60s"}'
  ```

### 2. Получение значения по ключу

**Описание**: Возвращает значение по указанному ключу. При попытке получения несуществующего / истекшего ключа возвращает StatusNotFound.

- **URL**: `GET /items/{key}`
- **Пример запроса**:

  ```bash
  curl -X GET http://localhost:8080/items/example
  ```

### 3. Обновление значения ключа

**Описание**: Обновляет значение существующего ключа, задавая новое TTL. При установке несуществующего / истекшего ключа возвращает StatusNotFound.

- **URL**: `PUT /items/{key}`
- **Тело запроса**:

  ```json
  {
    "value": "значение",
    "ttl": "время в формате 10s, 2m, 1h"
  }
  ```

- **Пример запроса**:

  ```bash
  curl -X PUT http://localhost:8080/items/example \
  -H "Content-Type: application/json" \
  -d '{"value":"new_value","ttl":"120s"}'
  ```

### 4. Удаление ключа

**Описание**: Удаляет ключ из хранилища. При удалении несуществующего / истекшего ключа возвращает StatusNotFound.

- **URL**: `DELETE /items/{key}`
- **Пример запроса**:

  ```bash
  curl -X DELETE http://localhost:8080/items/example
  ```
